{"ast":null,"code":"import _toConsumableArray from \"/home/christopher/Documents/autobeats/autobeats/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/christopher/Documents/autobeats/autobeats/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/christopher/Documents/autobeats/autobeats/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/christopher/Documents/autobeats/autobeats/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/christopher/Documents/autobeats/autobeats/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/christopher/Documents/autobeats/autobeats/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/christopher/Documents/autobeats/autobeats/client/src/components/Home.js\";\nimport React, { Component } from 'react';\nimport Spotify from 'spotify-web-api-js';\nvar spotifyWrapper = new Spotify();\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    var parameters = _this.getHashParams();\n\n    if (parameters.access_token) {\n      spotifyWrapper.setAccessToken(parameters.access_token);\n    }\n\n    _this.state = {\n      verified: parameters.access_token ? true : false,\n      playlistNames: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"getPlaylists\",\n    value: function getPlaylists() {\n      var _this2 = this;\n\n      spotifyWrapper.getUserPlaylists().then(function (res) {\n        var playlistInfo = res;\n\n        _this2.setState({\n          playlistNames: []\n        });\n\n        for (var i = 0; i < playlistInfo.items.length; i++) {\n          _this2.setState({\n            playlistNames: [].concat(_toConsumableArray(_this2.state.playlistNames), [playlistInfo.items[i].name])\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getHashParams\",\n    value: function getHashParams() {\n      var hashParams = {};\n      var e,\n          r = /([^&;=]+)=?([^&;]*)/g,\n          q = window.location.hash.substring(1);\n\n      while (e = r.exec(q)) {\n        hashParams[e[1]] = decodeURIComponent(e[2]);\n      }\n\n      return hashParams;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.getPlaylists();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.state.verified ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.state.playlistNames) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Not verified\"));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/home/christopher/Documents/autobeats/autobeats/client/src/components/Home.js"],"names":["React","Component","Spotify","spotifyWrapper","Home","props","parameters","getHashParams","access_token","setAccessToken","state","verified","playlistNames","getUserPlaylists","then","res","playlistInfo","setState","i","items","length","name","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getPlaylists"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,IAAMC,cAAc,GAAG,IAAID,OAAJ,EAAvB;;IAEME,I;;;;;AAEF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;;AAEA,QAAMC,UAAU,GAAG,MAAKC,aAAL,EAAnB;;AAEA,QAAID,UAAU,CAACE,YAAf,EAA6B;AACzBL,MAAAA,cAAc,CAACM,cAAf,CAA8BH,UAAU,CAACE,YAAzC;AACH;;AAED,UAAKE,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAEL,UAAU,CAACE,YAAX,GAA0B,IAA1B,GAAiC,KADlC;AAETI,MAAAA,aAAa,EAAE;AAFN,KAAb;AATe;AAalB;;;;mCAEc;AAAA;;AACXT,MAAAA,cAAc,CAACU,gBAAf,GACKC,IADL,CACU,UAACC,GAAD,EAAS;AACX,YAAIC,YAAY,GAAGD,GAAnB;;AACA,QAAA,MAAI,CAACE,QAAL,CAAc;AAACL,UAAAA,aAAa,EAAE;AAAhB,SAAd;;AACA,aAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,YAAY,CAACG,KAAb,CAAmBC,MAAvC,EAA+CF,CAAC,EAAhD,EAAoD;AAChD,UAAA,MAAI,CAACD,QAAL,CAAc;AAACL,YAAAA,aAAa,+BAAM,MAAI,CAACF,KAAL,CAAWE,aAAjB,IAAgCI,YAAY,CAACG,KAAb,CAAmBD,CAAnB,EAAsBG,IAAtD;AAAd,WAAd;AACH;AACJ,OAPL;AAQH;;;oCAEe;AACZ,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,CAAJ;AAAA,UAAOC,CAAC,GAAG,sBAAX;AAAA,UACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR;;AAEA,aAAQN,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAZ,EAAuB;AACpBH,QAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACF;;AACD,aAAOD,UAAP;AACD;;;6BAEM;AACL,WAAKU,YAAL;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKtB,KAAL,CAAWC,QAAX,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKD,KAAL,CAAWE,aAAf,CADH,GAGG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJR,CADJ;AASH;;;;EAjDcX,S;;AAoDnB,eAAeG,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport Spotify from 'spotify-web-api-js';\n\nconst spotifyWrapper = new Spotify();\n\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n\n        const parameters = this.getHashParams();\n\n        if (parameters.access_token) {\n            spotifyWrapper.setAccessToken(parameters.access_token);\n        }\n\n        this.state = {\n            verified: parameters.access_token ? true : false,\n            playlistNames: [],\n        }\n    }\n\n    getPlaylists() {\n        spotifyWrapper.getUserPlaylists()\n            .then((res) => {\n                let playlistInfo = res;\n                this.setState({playlistNames: []});\n                for (let i = 0; i < playlistInfo.items.length; i++) {\n                    this.setState({playlistNames: [...this.state.playlistNames, playlistInfo.items[i].name]});\n                }\n            })\n    }\n\n    getHashParams() {\n        var hashParams = {};\n        var e, r = /([^&;=]+)=?([^&;]*)/g,\n            q = window.location.hash.substring(1);\n        while ( e = r.exec(q)) {\n           hashParams[e[1]] = decodeURIComponent(e[2]);\n        }\n        return hashParams;\n      }\n\n    render() {\n        this.getPlaylists();\n        return (\n            <div>\n                {this.state.verified ? (\n                    <p>{this.state.playlistNames}</p>\n                ) : (\n                    <p>Not verified</p>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}