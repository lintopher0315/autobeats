{"ast":null,"code":"/**\n *  Parse tempo and time signature from the midiJson\n *  @param  {Object}  midiJson\n *  @return  {Object}\n */\nfunction parseHeader(midiJson) {\n  var ret = {\n    PPQ: midiJson.header.ticksPerBeat\n  };\n\n  for (var i = 0; i < midiJson.tracks.length; i++) {\n    var track = midiJson.tracks[i];\n\n    for (var j = 0; j < track.length; j++) {\n      var datum = track[j];\n\n      if (datum.type === \"meta\") {\n        if (datum.subtype === \"timeSignature\") {\n          ret.timeSignature = [datum.numerator, datum.denominator];\n        } else if (datum.subtype === \"setTempo\") {\n          if (!ret.bpm) {\n            ret.bpm = 60000000 / datum.microsecondsPerBeat;\n          }\n        }\n      }\n    }\n  }\n\n  ret.bpm = ret.bpm || 120;\n  return ret;\n}\n\nexport { parseHeader };","map":null,"metadata":{},"sourceType":"module"}